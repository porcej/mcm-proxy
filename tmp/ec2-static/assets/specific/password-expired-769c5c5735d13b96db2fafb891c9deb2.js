var browser_user_agent={browser:navigator.userAgent,ie:-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0,iphone:null!==navigator.userAgent.match(new RegExp("iphone","i")),android:null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),androidchrome:null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),androidfirefox:null!==navigator.userAgent.match(new RegExp("android.*firefox.*","i")),touchDevice:"ontouchstart"in window||window.navigator.msMaxTouchPoints>0,isSafari:/^((?!chrome|android).)*safari/i.test(navigator.userAgent),desktop:0!=window.screenX&&!this.touchDevice,isSmallerDevice:window.innerWidth<768};browser_user_agent.is_file_supported=window.File&&window.FileList&&window.FileReader,browser_user_agent.is_input_mask_valid=!(browser_user_agent.android||browser_user_agent.androidchrome||browser_user_agent.androidfirefox),$(document).ready(function(){$(".password-expired-container").length>0&&($(".initial-focus").focus(),$(document).on("change","input.account-password-check",function(){var e=$(this),t=e.closest(".update-password-expired-panel"),i=e.prop("checked")?"text":"password";t.find("#current_password").attr("type",i)}),$(document).on("keyup",".password-expired-text-field",function(){$(".password-expired-text-field").val().length>=parseInt($("#min_new_password_length").val())?$(".save-new-password-btn").removeClass("disabled"):$(".save-new-password-btn").addClass("disabled")}),$(document).on("click",".save-new-password-btn",function(e){if(0===$(".save-new-password-btn.disabled").length){var t=$(this),i=t.data("userPath"),n=$("#current_password").val();if(browser_user_agent.touchDevice||browser_user_agent.isSmallerDevice)var o={dataType:"JSON",type:"PUT",data:{password:n}};else var o={dataType:"JSON",type:"PUT",data:{password:n},loader:function(){"function"==typeof loaderPosition&&(loaderPosition(e),loader())}};_ajax(i,o).fail(function(){$("#current_password").addClass("error")}).done(function(){$(".password-expired-container").fadeOut()})}}))});